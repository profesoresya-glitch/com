<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil del Docente - ProfesoresYa</title>
    <style>
        :root { --primary-blue: #1a56db; --dark-text: #1f2937; --light-bg: #f9fafb; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; background-color: var(--light-bg); color: var(--dark-text); }
        header { background: white; padding: 1rem 5%; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .container { max-width: 800px; margin: 2rem auto; background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        h1 { color: var(--primary-blue); margin-bottom: 0.5rem; }
        .rating { color: #ffc107; font-size: 1.2rem; margin-bottom: 1rem; }
        .titulo-aviso { font-weight: bold; font-size: 1.3rem; margin: 1.5rem 0 1rem 0; border-bottom: 2px solid var(--primary-blue); padding-bottom: 5px; }
        .descripcion { line-height: 1.6; white-space: pre-wrap; color: #4b5563; }
        .btn-volver { display: inline-block; margin-top: 2rem; text-decoration: none; color: var(--primary-blue); font-weight: bold; }
    </style>
</head>
<body>

<header>
    <div style="font-size: 1.5rem; font-weight: 800; color: var(--primary-blue);">üéì ProfesoresYa</div>
</header>

<div class="container" id="perfil-contenido">
    <p>Cargando perfil...</p>
</div>

<script>
    const URL_SHEET = "https://script.google.com/macros/s/AKfycbw4P4VylmH_RimZpQvRNp58Zw1LaAmKby84R_A0u__u3le2LfLLx6cpK6q6V_1TUtbI/exec";

    // Obtener el ID del profesor de la URL
    const urlParams = new URLSearchParams(window.location.search);
    const idProfesor = urlParams.get('id');

    if (!idProfesor) {
        document.getElementById("perfil-contenido").innerHTML = "<p>Profesor no encontrado.</p>";
    } else {
        fetch(URL_SHEET)
        .then(r => r.json())
        .then(data => {
            const docente = data.find(p => p.id == idProfesor);
            if (docente) {
                document.getElementById("perfil-contenido").innerHTML = `
                    <h1>${docente.nombre} ${docente.apellido}</h1>
                    <div class="rating">${docente.tipo}</div>
                    <p>üìç ${docente.ciudad}</p>
                    
                    <div class="titulo-aviso">${docente.titulo}</div>
                    <div class="descripcion">${docente.descripcion}</div>
                    
                    <a href="index.html" class="btn-volver">‚Üê Volver a la lista</a>
                `;
            } else {
                document.getElementById("perfil-contenido").innerHTML = "<p>Docente no encontrado o no est√° activo.</p>";
            }
        })
        .catch(err => {
            document.getElementById("perfil-contenido").innerHTML = "<p>Error al cargar los datos.</p>";
        });
    }
</script>

</body>
</html>
